<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" />
  <link rel="stylesheet" href="./agora_full.css" />
  <script src="https://cdn.agora.io/sdk/release/AgoraRTCSDK-3.4.0.js"></script>
  <script src="./js/agora-rtm-sdk-1.4.1.js"></script>
  <script src="./script.js"></script>
  <title>Warpbay</title>
</head>

<body>
  <div class="agora-div">
    <div class="loader">
      <div class="loaderGif"></div>
      <h1>Loading</h1>
    </div>
    <div class="videos">
      <h1 id="joinedAs" style="display: none">Joined as</h1>
      <p id="mobileOptions" onclick="toggleMobileChat()">
        <i class="fas fa-user-friends"></i>
      </p>
      <div class="videosLayout">
        <div id="pinned" style="display: none"></div>
        <div id="remote-container">
          <div id="me" class="stremeElement stremeElement1" style="display: none">
            <div class="tempImage" style="background: rgb(0, 255, 255); display: flex">
              <h1 class="nameInitials">You</h1>
            </div>
            <h1 id="meUserName" class="streamName">You</h1>
            <i class="fas fa-ellipsis-v streamOptions" onclick="showOptions('me')"></i>
            <ul class="optionsDropdown">
              <li onclick="sendMakeAudienceMessage('me')">Make Audience</li>
              <li onclick="sendRemoveMessage('me')">Remove</li>
              <li onclick="togglePin('me')">Pin</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="bottom-bar">
        <div class="bottom-group">
          <h1 class="liveText">LIVE</h1>
          <h1 class="time" id="duration">00:00:00</h1>
          <h1 class="userCount">
            <i class="fas fa-users"></i><span id="userCount">1</span>
          </h1>
        </div>
        <div class="bottom-group middle-group">
          <div class="actionBtn" onClick="toggleVideo()" id="videoBtnDiv">
            <i class="fas fa-video" id="videoBtn"></i>
          </div>
          <div class="actionBtn" onClick="toggleAudio()" id="audioBtnDiv">
            <i class="fas fa-microphone" id="audioBtn"></i>
          </div>
          <div class="actionBtn" onClick="leaveCall('Call left')">
            <i class="fas fa-phone-slash redAction"></i>
          </div>
          <div class="actionBtn" onClick="shareScreenToggle()" id="screenBtnDiv">
            <i class="fas fa-desktop" id="screenBtn"></i>
          </div>
          <div class="actionBtn" onClick="sendRaiseHandMessage()">
            <i class="fas fa-hand-paper" id="raiseHandBtn"></i>
          </div>
          <div class="actionBtn" onClick="createPoll()" id="pollBtnDiv">
            <i class="fas fa-poll" id="pollBtn"></i>
          </div>
        </div>
        <div class="bottom-group">
          <button class="endSession" id="endSession" onclick="endCallForAll()">
            End Session
          </button>
        </div>
      </div>
    </div>
    <!-- Modal for poll -->
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div id="modalContentParent" class="modal-content-parent">
        <span onclick="closeModal('myModal')" class="close">&times;</span>
        <button onclick="openPollModal()">Create Poll</button>
        <div id="modalContent" class="modal-content">

        </div>
      </div>
    </div>
    <div id="poll-modal" class="modal">
      <div class="modal-content-parent poll-create-area">
        <span onclick="closeModal('poll-modal')" class="close">&times;</span>
        <div class="modal-content">
          <form onsubmit="saveNewPoll(event)" id="poll-area">
            <input type="text" placeholder="*Question" oninvalid="this.setCustomValidity('Enter poll question here')"
              required id="quesInp" />
            <input type="text" placeholder="*Option 1" oninvalid="this.setCustomValidity('Enter first option here')"
              required id="ansInp1" />
            <input type="text" placeholder="*Option 2" oninvalid="this.setCustomValidity('Enter second option here')"
              required id="ansInp2" />
            <input type="text" placeholder="Option 3" id="ansInp3" />
            <input type="text" placeholder="Option 4" id="ansInp4" />
            <input type="text" placeholder="Option 4" id="ansInp5" />
            <button onclick="sendChannelMessage(event,true,null)">Launch</button>
            <button type="submit">Save</button>
          </form>
        </div>
      </div>
    </div>
    <div class="chat">
      <div class="chatTopToggle">
        <button onclick="changeLayout('chatArea')">Chat</button>
        <button onclick="changeLayout('peopleList')">People</button>
        <button onclick="changeLayout('handRaiseList')" id="raiseHandListBtn">
          Raised Hands
          <span id="raisedHandCounter">(0)</span>
        </button>
        <button onclick="changeLayout('qnaArea')">Q&A</button>
      </div>
      <div class="chatArea" id="chatArea">
        <h1>Chat</h1>
      </div>
      <div class="userListGroup" id="peopleList" style="display: none">
        <h1>People:</h1>
        <input id="peopleSearch" placeholder="Search" autocomplete="off" oninput="searchForPeople(event)" />
        <div id="peopleListGroup"></div>
      </div>
      <div class="userListGroup" id="handRaiseList" style="display: none">
        <h1>Hands Raised:</h1>
      </div>
      <div class="qnaArea" id="qnaArea" style="display: none;">
        <h1>QnA</h1>
      </div>
      <div class="chatInput">
        <form onsubmit="sendChannelMessage(event,false,null)">
          <input id="inputText" autocomplete="off" />
          <button type="submit">
            <i class="fas fa-paper-plane"></i>
          </button>
        </form>
      </div>
      <div class="qnaInput" style="display: none">
        <form onsubmit="sendChannelMessage(event,false,'qna')">
          <input id="qnaInputText" autocomplete="off" />
          <button type="submit">
            <i class="fas fa-question"></i>
          </button>
        </form>
        <label for="qnaCheck">Ask anonymously</label>
        <input type="checkbox" name="qnaCheck" id="qnaCheck">
      </div>
    </div>
  </div>
</body>

</html>